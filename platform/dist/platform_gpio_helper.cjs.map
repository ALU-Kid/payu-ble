{"version":3,"sources":["../../node_modules/lodash.debounce/index.js","../../node_modules/file-uri-to-path/index.js","../../node_modules/bindings/bindings.js","../../node_modules/epoll/epoll.js","../../node_modules/onoff/onoff.js","../platform_gpio_helper.ts"],"names":["result","path","i","Gpio","callback","value"],"mappings":"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","file":"platform_gpio_helper.cjs","sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","\n/**\n * Module dependencies.\n */\n\nvar sep = require('path').sep || '/';\n\n/**\n * Module exports.\n */\n\nmodule.exports = fileUriToPath;\n\n/**\n * File URI to Path function.\n *\n * @param {String} uri\n * @return {String} path\n * @api public\n */\n\nfunction fileUriToPath (uri) {\n  if ('string' != typeof uri ||\n      uri.length <= 7 ||\n      'file://' != uri.substring(0, 7)) {\n    throw new TypeError('must pass in a file:// URI to convert to a file path');\n  }\n\n  var rest = decodeURI(uri.substring(7));\n  var firstSlash = rest.indexOf('/');\n  var host = rest.substring(0, firstSlash);\n  var path = rest.substring(firstSlash + 1);\n\n  // 2.  Scheme Definition\n  // As a special case, <host> can be the string \"localhost\" or the empty\n  // string; this is interpreted as \"the machine from which the URL is\n  // being interpreted\".\n  if ('localhost' == host) host = '';\n\n  if (host) {\n    host = sep + sep + host;\n  }\n\n  // 3.2  Drives, drive letters, mount points, file system root\n  // Drive letters are mapped into the top of a file URI in various ways,\n  // depending on the implementation; some applications substitute\n  // vertical bar (\"|\") for the colon after the drive letter, yielding\n  // \"file:///c|/tmp/test.txt\".  In some cases, the colon is left\n  // unchanged, as in \"file:///c:/tmp/test.txt\".  In other cases, the\n  // colon is simply omitted, as in \"file:///c/tmp/test.txt\".\n  path = path.replace(/^(.+)\\|/, '$1:');\n\n  // for Windows, we need to invert the path separators from what a URI uses\n  if (sep == '\\\\') {\n    path = path.replace(/\\//g, '\\\\');\n  }\n\n  if (/^.+\\:/.test(path)) {\n    // has Windows drive at beginning of path\n  } else {\n    // unix path…\n    path = sep + path;\n  }\n\n  return host + path;\n}\n","/**\n * Module dependencies.\n */\n\nvar fs = require('fs'),\n  path = require('path'),\n  fileURLToPath = require('file-uri-to-path'),\n  join = path.join,\n  dirname = path.dirname,\n  exists =\n    (fs.accessSync &&\n      function(path) {\n        try {\n          fs.accessSync(path);\n        } catch (e) {\n          return false;\n        }\n        return true;\n      }) ||\n    fs.existsSync ||\n    path.existsSync,\n  defaults = {\n    arrow: process.env.NODE_BINDINGS_ARROW || ' → ',\n    compiled: process.env.NODE_BINDINGS_COMPILED_DIR || 'compiled',\n    platform: process.platform,\n    arch: process.arch,\n    nodePreGyp:\n      'node-v' +\n      process.versions.modules +\n      '-' +\n      process.platform +\n      '-' +\n      process.arch,\n    version: process.versions.node,\n    bindings: 'bindings.node',\n    try: [\n      // node-gyp's linked version in the \"build\" dir\n      ['module_root', 'build', 'bindings'],\n      // node-waf and gyp_addon (a.k.a node-gyp)\n      ['module_root', 'build', 'Debug', 'bindings'],\n      ['module_root', 'build', 'Release', 'bindings'],\n      // Debug files, for development (legacy behavior, remove for node v0.9)\n      ['module_root', 'out', 'Debug', 'bindings'],\n      ['module_root', 'Debug', 'bindings'],\n      // Release files, but manually compiled (legacy behavior, remove for node v0.9)\n      ['module_root', 'out', 'Release', 'bindings'],\n      ['module_root', 'Release', 'bindings'],\n      // Legacy from node-waf, node <= 0.4.x\n      ['module_root', 'build', 'default', 'bindings'],\n      // Production \"Release\" buildtype binary (meh...)\n      ['module_root', 'compiled', 'version', 'platform', 'arch', 'bindings'],\n      // node-qbs builds\n      ['module_root', 'addon-build', 'release', 'install-root', 'bindings'],\n      ['module_root', 'addon-build', 'debug', 'install-root', 'bindings'],\n      ['module_root', 'addon-build', 'default', 'install-root', 'bindings'],\n      // node-pre-gyp path ./lib/binding/{node_abi}-{platform}-{arch}\n      ['module_root', 'lib', 'binding', 'nodePreGyp', 'bindings']\n    ]\n  };\n\n/**\n * The main `bindings()` function loads the compiled bindings for a given module.\n * It uses V8's Error API to determine the parent filename that this function is\n * being invoked from, which is then used to find the root directory.\n */\n\nfunction bindings(opts) {\n  // Argument surgery\n  if (typeof opts == 'string') {\n    opts = { bindings: opts };\n  } else if (!opts) {\n    opts = {};\n  }\n\n  // maps `defaults` onto `opts` object\n  Object.keys(defaults).map(function(i) {\n    if (!(i in opts)) opts[i] = defaults[i];\n  });\n\n  // Get the module root\n  if (!opts.module_root) {\n    opts.module_root = exports.getRoot(exports.getFileName());\n  }\n\n  // Ensure the given bindings name ends with .node\n  if (path.extname(opts.bindings) != '.node') {\n    opts.bindings += '.node';\n  }\n\n  // https://github.com/webpack/webpack/issues/4175#issuecomment-342931035\n  var requireFunc =\n    typeof __webpack_require__ === 'function'\n      ? __non_webpack_require__\n      : require;\n\n  var tries = [],\n    i = 0,\n    l = opts.try.length,\n    n,\n    b,\n    err;\n\n  for (; i < l; i++) {\n    n = join.apply(\n      null,\n      opts.try[i].map(function(p) {\n        return opts[p] || p;\n      })\n    );\n    tries.push(n);\n    try {\n      b = opts.path ? requireFunc.resolve(n) : requireFunc(n);\n      if (!opts.path) {\n        b.path = n;\n      }\n      return b;\n    } catch (e) {\n      if (e.code !== 'MODULE_NOT_FOUND' &&\n          e.code !== 'QUALIFIED_PATH_RESOLUTION_FAILED' &&\n          !/not find/i.test(e.message)) {\n        throw e;\n      }\n    }\n  }\n\n  err = new Error(\n    'Could not locate the bindings file. Tried:\\n' +\n      tries\n        .map(function(a) {\n          return opts.arrow + a;\n        })\n        .join('\\n')\n  );\n  err.tries = tries;\n  throw err;\n}\nmodule.exports = exports = bindings;\n\n/**\n * Gets the filename of the JavaScript file that invokes this function.\n * Used to help find the root directory of a module.\n * Optionally accepts an filename argument to skip when searching for the invoking filename\n */\n\nexports.getFileName = function getFileName(calling_file) {\n  var origPST = Error.prepareStackTrace,\n    origSTL = Error.stackTraceLimit,\n    dummy = {},\n    fileName;\n\n  Error.stackTraceLimit = 10;\n\n  Error.prepareStackTrace = function(e, st) {\n    for (var i = 0, l = st.length; i < l; i++) {\n      fileName = st[i].getFileName();\n      if (fileName !== __filename) {\n        if (calling_file) {\n          if (fileName !== calling_file) {\n            return;\n          }\n        } else {\n          return;\n        }\n      }\n    }\n  };\n\n  // run the 'prepareStackTrace' function above\n  Error.captureStackTrace(dummy);\n  dummy.stack;\n\n  // cleanup\n  Error.prepareStackTrace = origPST;\n  Error.stackTraceLimit = origSTL;\n\n  // handle filename that starts with \"file://\"\n  var fileSchema = 'file://';\n  if (fileName.indexOf(fileSchema) === 0) {\n    fileName = fileURLToPath(fileName);\n  }\n\n  return fileName;\n};\n\n/**\n * Gets the root directory of a module, given an arbitrary filename\n * somewhere in the module tree. The \"root directory\" is the directory\n * containing the `package.json` file.\n *\n *   In:  /home/nate/node-native-module/lib/index.js\n *   Out: /home/nate/node-native-module\n */\n\nexports.getRoot = function getRoot(file) {\n  var dir = dirname(file),\n    prev;\n  while (true) {\n    if (dir === '.') {\n      // Avoids an infinite loop in rare cases, like the REPL\n      dir = process.cwd();\n    }\n    if (\n      exists(join(dir, 'package.json')) ||\n      exists(join(dir, 'node_modules'))\n    ) {\n      // Found the 'package.json' file or 'node_modules' dir; we're done\n      return dir;\n    }\n    if (prev === dir) {\n      // Got to the top\n      throw new Error(\n        'Could not find module root given file: \"' +\n          file +\n          '\". Do you have a `package.json` file? '\n      );\n    }\n    // Try the parent dir next\n    prev = dir;\n    dir = join(dir, '..');\n  }\n};\n","'use strict';\n\nmodule.exports = (_ => {\n  const osType = require('os').type();\n\n  if (osType === 'Linux') {\n    return require('bindings')('epoll.node');\n  }\n\n  console.warn(`Warning: epoll is built for Linux and not intended for usage on ${osType}.`);\n\n  return {\n    Epoll: {}\n  };\n})();\n\n","'use strict';\n\nconst fs = require('fs');\nconst debounce = require('lodash.debounce');\nconst Epoll = require('epoll').Epoll;\n\nconst GPIO_ROOT_PATH = '/sys/class/gpio/';\n\nconst HIGH_BUF = Buffer.from('1');\nconst LOW_BUF = Buffer.from('0');\n\nconst HIGH = 1;\nconst LOW = 0;\n\nconst exportGpio = gpio => {\n  if (!fs.existsSync(gpio._gpioPath)) {\n    // The GPIO hasn't been exported yet so export it\n    fs.writeFileSync(GPIO_ROOT_PATH + 'export', '' + gpio._gpio);\n\n    return false;\n  }\n\n  // The GPIO has already been exported, perhaps by onoff itself, perhaps\n  // by quick2wire gpio-admin on the Pi, perhaps by the WiringPi gpio\n  // utility on the Pi, or perhaps by something else. In any case, an\n  // attempt is made to set the direction and edge to the requested\n  // values here. If quick2wire gpio-admin was used for the export, the\n  // user should have access to both direction and edge files. This is\n  // important as gpio-admin sets niether direction nor edge. If the\n  // WiringPi gpio utility was used, the user should have access to edge\n  // file, but not the direction file. This is also ok as the WiringPi\n  // gpio utility can set both direction and edge. If there are any\n  // errors while attempting to perform the modifications, just keep on\n  // truckin'.\n  return true;\n};\n\n// Avoid the access permission issue described here:\n// https://github.com/raspberrypi/linux/issues/553\n// On some syetems udev rules are used to set access permissions on the GPIO\n// sysfs files enabling those files to be accessed without root privileges.\n// This takes a while so wait for it to complete.\nconst waitForGpioAccessPermission = (\n  gpio, direction, edge, gpioPreviouslyExported\n) => {\n  let permissionRequiredPaths = [\n    gpio._gpioPath + 'value',\n  ];\n\n  if (gpioPreviouslyExported === false) {\n    permissionRequiredPaths.push(gpio._gpioPath + 'direction');\n    permissionRequiredPaths.push(gpio._gpioPath + 'active_low');\n\n    // On some systems the edge file will not exist if the GPIO does not\n    // support interrupts\n    // https://github.com/fivdi/onoff/issues/77#issuecomment-321980735\n    if (edge && direction === 'in') {\n      permissionRequiredPaths.push(gpio._gpioPath + 'edge');\n    }\n  }\n\n  permissionRequiredPaths.forEach(path => {\n    let tries = 0;\n\n    while (true) {\n      try {\n        tries += 1;\n        const fd = fs.openSync(path, 'r+');\n        fs.closeSync(fd);\n        break;\n      } catch (e) {\n        if (tries === 10000) {\n          throw e;\n        }\n      }\n    }\n  });\n};\n\nconst configureGpio = (\n  gpio, direction, edge, options, gpioPreviouslyExported\n) => {\n  const throwIfNeeded = err => {\n    if (gpioPreviouslyExported === false) {\n      throw err;\n    }\n  };\n\n  try {\n    if (typeof options.activeLow === 'boolean') {\n      gpio.setActiveLow(options.activeLow);\n    }\n  } catch (err) {\n    throwIfNeeded(err);\n  }\n\n  try {\n    const reconfigureDirection =\n      typeof options.reconfigureDirection === 'boolean' ?\n        options.reconfigureDirection : true;\n\n    const requestedDirection =\n      direction === 'high' || direction === 'low' ? 'out' : direction;\n\n    if (reconfigureDirection || gpio.direction() !== requestedDirection) {\n      gpio.setDirection(direction);\n    }\n  } catch (err) {\n    throwIfNeeded(err);\n  }\n\n  try {\n    // On some systems writing to the edge file for an output GPIO will\n    // result in an \"EIO, i/o error\"\n    // https://github.com/fivdi/onoff/issues/87\n    if (edge && direction === 'in') {\n      gpio.setEdge(edge);\n    }\n  } catch (err) {\n    throwIfNeeded(err);\n  }\n};\n\nconst configureInterruptHandler = gpio => {\n  // A poller is created for both inputs and outputs. A poller isn't\n  // actually needed for an output but the setDirection method can be\n  // invoked to change the direction of a GPIO from output to input and\n  // then a poller may be needed.\n  const pollerEventHandler = (err, fd, events) => {\n    const value = gpio.readSync();\n\n    if ((value === LOW && gpio._fallingEnabled) ||\n        (value === HIGH && gpio._risingEnabled)) {\n      gpio._listeners.slice(0).forEach(callback => {\n        callback(err, value);\n      });\n    }\n  };\n\n  // Read GPIO value before polling to prevent an initial unauthentic\n  // interrupt\n  gpio.readSync();\n\n  if (gpio._debounceTimeout > 0) {\n    const db = debounce(pollerEventHandler, gpio._debounceTimeout);\n\n    gpio._poller = new Epoll((err, fd, events) => {\n      gpio.readSync(); // Clear interrupt\n      db(err, fd, events);\n    });\n  } else {\n    gpio._poller = new Epoll(pollerEventHandler);\n  }\n};\n\nclass Gpio {\n  constructor(gpio, direction, edge, options) {\n    if (typeof edge === 'object' && !options) {\n      options = edge;\n      edge = undefined;\n    }\n\n    options = options || {};\n\n    this._gpio = gpio;\n    this._gpioPath = GPIO_ROOT_PATH + 'gpio' + this._gpio + '/';\n    this._debounceTimeout = options.debounceTimeout || 0;\n    this._readBuffer = Buffer.alloc(16);\n    this._readSyncBuffer = Buffer.alloc(16);\n    this._listeners = [];\n\n    const gpioPreviouslyExported = exportGpio(this);\n\n    waitForGpioAccessPermission(\n      this, direction, edge, gpioPreviouslyExported\n    );\n\n    configureGpio(this, direction, edge, options, gpioPreviouslyExported);\n\n    this._valueFd = fs.openSync(this._gpioPath + 'value', 'r+');\n\n    configureInterruptHandler(this);\n  }\n\n  read(callback) {\n    const readValue = callback => {\n      fs.read(this._valueFd, this._readBuffer, 0, 1, 0, (err, bytes, buf) => {\n        if (typeof callback === 'function') {\n          if (err) {\n            return callback(err);\n          }\n\n          callback(null, convertBufferToBit(buf));\n        }\n      });\n    };\n\n    if (callback) {\n      readValue(callback);\n    } else {\n      return new Promise((resolve, reject) => {\n        readValue((err, value) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(value);\n          }\n        });\n      });\n    }\n  }\n\n  readSync() {\n    fs.readSync(this._valueFd, this._readSyncBuffer, 0, 1, 0);\n    return convertBufferToBit(this._readSyncBuffer);\n  }\n\n  write(value, callback) {\n    const writeValue = (value, callback) => {\n      const writeBuffer = convertBitToBuffer(value);\n      fs.write(\n        this._valueFd, writeBuffer, 0, writeBuffer.length, 0, callback\n      );\n    };\n\n    if (callback) {\n      writeValue(value, callback);\n    } else {\n      return new Promise((resolve, reject) => {\n        writeValue(value, err => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      });\n    }\n  }\n\n  writeSync(value) {\n    const writeBuffer = convertBitToBuffer(value);\n    fs.writeSync(this._valueFd, writeBuffer, 0, writeBuffer.length, 0);\n  }\n\n  watch(callback) {\n    this._listeners.push(callback);\n\n    if (this._listeners.length === 1) {\n      this._poller.add(this._valueFd, Epoll.EPOLLPRI);\n    }\n  }\n\n  unwatch(callback) {\n    if (this._listeners.length > 0) {\n      if (typeof callback !== 'function') {\n        this._listeners = [];\n      } else {\n        this._listeners = this._listeners.filter(listener => {\n          return callback !== listener;\n        });\n      }\n\n      if (this._listeners.length === 0) {\n        this._poller.remove(this._valueFd);\n      }\n    }\n  }\n\n  unwatchAll() {\n    this.unwatch();\n  }\n\n  direction() {\n    return fs.readFileSync(this._gpioPath + 'direction').toString().trim();\n  }\n\n  setDirection(direction) {\n    fs.writeFileSync(this._gpioPath + 'direction', direction);\n  }\n\n  edge() {\n    return fs.readFileSync(this._gpioPath + 'edge').toString().trim();\n  }\n\n  setEdge(edge) {\n    fs.writeFileSync(this._gpioPath + 'edge', edge);\n\n    this._risingEnabled = edge === 'both' || edge === 'rising';\n    this._fallingEnabled = edge === 'both' || edge === 'falling';\n  }\n\n  activeLow() {\n    return convertBufferToBoolean(\n      fs.readFileSync(this._gpioPath + 'active_low')\n    );\n  }\n\n  setActiveLow(invert) {\n    fs.writeFileSync(\n      this._gpioPath + 'active_low', convertBooleanToBuffer(!!invert)\n    );\n  }\n\n  unexport() {\n    this.unwatchAll();\n    fs.closeSync(this._valueFd);\n    try {\n      fs.writeFileSync(GPIO_ROOT_PATH + 'unexport', '' + this._gpio);\n    } catch (ignore) {\n      // Flow of control always arrives here when cape_universal is enabled on\n      // the bbb.\n    }\n  }\n\n  static get accessible() {\n    let fd;\n\n    try {\n      fd = fs.openSync(GPIO_ROOT_PATH + 'export', fs.constants.O_WRONLY);\n    } catch(e) {\n      // e.code === 'ENOENT' / 'EACCES' are most common\n      // though any failure to open will also result in a gpio\n      // failure to export.\n      return false;\n    } finally {\n      if (fd) {\n        fs.closeSync(fd);\n      }\n    }\n\n    return true;\n  }\n}\n\nconst convertBitToBuffer = bit => convertBooleanToBuffer(bit === HIGH);\nconst convertBufferToBit =\n  buffer => convertBufferToBoolean(buffer) ? HIGH : LOW;\n\nconst convertBooleanToBuffer = boolean => boolean ? HIGH_BUF : LOW_BUF;\nconst convertBufferToBoolean = buffer => buffer[0] === HIGH_BUF[0];\n\nGpio.HIGH = HIGH;\nGpio.LOW = LOW;\n\nmodule.exports.Gpio = Gpio;\n\n","/**\n * GPIO Button Helper for Raspberry Pi\n * Requires: npm install onoff\n */\n\nlet Gpio: any = null;\n\n// Dynamic import for optional dependency\nasync function loadGpio(): Promise<any> {\n  try {\n    const onoffModule = await import('onoff');\n    return onoffModule.Gpio;\n  } catch (error) {\n    console.warn('onoff module not available, GPIO functionality will be mocked');\n    return null;\n  }\n}\n\ninterface GPIOButtonOptions {\n  pin: number;\n  edge?: 'rising' | 'falling' | 'both';\n  activeLow?: boolean;\n  debounceTimeout?: number;\n}\n\nexport class GPIOButtonHelper {\n  private gpio: any | null = null;\n  private isPressed: boolean = false;\n  private debounceTimer: NodeJS.Timeout | null = null;\n  private options: GPIOButtonOptions;\n\n  constructor(options: GPIOButtonOptions) {\n    this.options = {\n      edge: 'both',\n      activeLow: false,\n      debounceTimeout: 50,\n      ...options\n    };\n\n    this.initializeGPIO();\n  }\n\n  private async initializeGPIO(): Promise<void> {\n    try {\n      if (!Gpio) {\n        Gpio = await loadGpio();\n      }\n\n      if (!Gpio || !Gpio.accessible) {\n        console.warn('GPIO not accessible. Running in mock mode.');\n        return;\n      }\n\n      this.gpio = new Gpio(this.options.pin, 'in', this.options.edge, {\n        activeLow: this.options.activeLow || false\n      });\n\n      this.gpio.watch((err: any, value: number) => {\n        if (err) {\n          console.error('GPIO watch error:', err);\n          return;\n        }\n\n        this.handleButtonChange(value);\n      });\n\n      // Read initial state\n      this.isPressed = this.gpio.readSync() === 1;\n      \n    } catch (error) {\n      console.error('Failed to initialize GPIO:', error);\n      console.warn('Falling back to mock mode');\n    }\n  }\n\n  private handleButtonChange(value: number): void {\n    // Debounce button presses\n    if (this.debounceTimer) {\n      clearTimeout(this.debounceTimer);\n    }\n\n    this.debounceTimer = setTimeout(() => {\n      const wasPressed = this.isPressed;\n      this.isPressed = value === 1;\n\n      // Log state changes for debugging\n      if (wasPressed !== this.isPressed) {\n        console.log(`GPIO Pin ${this.options.pin}: ${this.isPressed ? 'PRESSED' : 'RELEASED'}`);\n      }\n    }, this.options.debounceTimeout);\n  }\n\n  public getState(): boolean {\n    if (this.gpio && Gpio && Gpio.accessible) {\n      try {\n        return this.gpio.readSync() === 1;\n      } catch (error) {\n        console.error('Error reading GPIO state:', error);\n        return this.isPressed;\n      }\n    }\n    \n    // Mock mode - return current state\n    return this.isPressed;\n  }\n\n  public isButtonPressed(): boolean {\n    return this.getState();\n  }\n\n  public cleanup(): void {\n    if (this.debounceTimer) {\n      clearTimeout(this.debounceTimer);\n    }\n\n    if (this.gpio) {\n      this.gpio.unexport();\n      this.gpio = null;\n    }\n  }\n\n  // Mock methods for testing without hardware\n  public mockPress(): void {\n    console.log(`Mock: Button ${this.options.pin} pressed`);\n    this.isPressed = true;\n  }\n\n  public mockRelease(): void {\n    console.log(`Mock: Button ${this.options.pin} released`);\n    this.isPressed = false;\n  }\n}\n\n// Factory function for creating GPIO availability triggers\nexport function createGPIOButtonTrigger(pin: number, options?: Partial<GPIOButtonOptions>): () => boolean {\n  const buttonHelper = new GPIOButtonHelper({ pin, ...options });\n\n  // Cleanup on process exit\n  process.on('SIGINT', () => buttonHelper.cleanup());\n  process.on('SIGTERM', () => buttonHelper.cleanup());\n\n  return () => buttonHelper.isButtonPressed();\n}\n\n// Alternative simpler interface\nexport function gpioButton(pin: number, activeLow: boolean = false): () => boolean {\n  return createGPIOButtonTrigger(pin, { activeLow });\n}"]}